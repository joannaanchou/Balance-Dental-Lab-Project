/* ===== Balanced Dental Lab — 全站主題樣式 ===== */

/* 色票（與 home.html 一致） */
:root{
  --brand-deep:#233446;
  --brand-mid:#2f4a63;
  --brand-accent:#0ea5a5;
  --brand-soft:#e6eef5;
}

html, body { height: 100%; }
body{
  background:var(--brand-soft);
  font-family:"Noto Sans TC", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  overflow-x:hidden; /* 防水平滾動 */
  margin: 0;
}

/* ===== Layout: 固定側欄 / 主內容 ===== */
.container-fluid > .row { min-height: 100vh; }

/* 讓左欄固定在視窗，與右欄區塊分離 */
#sidebar-container{
  position: sticky;   /* 固定相對視窗 */
  top: 0;
  align-self: flex-start;
  height: 100vh;      /* 滿高視窗 */
  padding: 0;
  z-index: 100;
  overflow: hidden;   /* 外層完全不出現卷軸（含水平） */
}

/* 真正的側欄外觀 */
.app-sidebar{
  height: 100%;
  background:linear-gradient(180deg, var(--brand-mid) 0%, var(--brand-deep) 100%);
  color:#ecf0f1;
  display:flex;
  flex-direction:column;
  box-sizing:border-box;
  border-right: 1px solid rgba(255,255,255,.08);
}

/* 垂直卷軸容器（只允許上下滾動；水平關閉） */
.sidebar-scroll{
  overflow-y:auto;
  overflow-x:hidden;
  -webkit-overflow-scrolling:touch;
  padding-bottom: .5rem; /* 避免最後一項被底部吃掉 */
  scrollbar-width: thin;
  scrollbar-color: rgba(255,255,255,.18) transparent;
}
/* WebKit 捲軸造型（透明） */
.sidebar-scroll::-webkit-scrollbar{ width: 10px; height: 10px; }
.sidebar-scroll::-webkit-scrollbar-track{ background: transparent; }
.sidebar-scroll::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,.15);
  border-radius: 8px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
.sidebar-scroll::-webkit-scrollbar-thumb:hover{
  background: rgba(255,255,255,.25);
}

/* 側欄品牌 */
.brand-title{
  color:#fff;
  font-size: .95rem;
  border-bottom: 1px solid rgba(255,255,255,.08);
}

/* 側欄連結（避免內容撐寬造成水平滾動） */
#sidebar-container .nav-link{
  color:#ecf0f1;
  padding:12px 14px;
  border-radius:8px;
  margin:4px 6px;
  text-decoration:none;
  display:flex;
  align-items:center;
  gap:.5rem;
  transition:background .2s ease, color .2s ease;
  white-space: normal;       /* 文字可換行 */
  word-break: break-word;    /* 長字/網址也可斷行 */
  box-sizing: border-box;
}
#sidebar-container .nav-link i{ flex-shrink:0; }  /* 圖示不擠壓 */
#sidebar-container .nav-link:hover,
#sidebar-container .nav-link[aria-expanded="true"],
#sidebar-container .nav-link.active{
  background: rgba(255,255,255,.12);
  color:#fff;
}

/* 主內容區 */
main{
  min-height: 100vh;
  overflow: visible; /* 主內容用頁面自身的滾動，不影響側欄 */
}

/* ===== Header ===== */
.header{
  background:#fff;
  padding:15px 24px;
  box-shadow:0 2px 10px rgba(0,0,0,.06);
  margin-bottom:18px;
  border-radius:.75rem;
}

/* 品牌小徽章（home.html 頂部用） */
.brand{ display:flex; align-items:center; gap:.6rem; }
.brand .logo{
  width:34px; height:34px; border-radius:10px;
  display:grid; place-items:center; font-weight:800;
  color:#003b3b;
  background:linear-gradient(135deg, var(--brand-accent), #22d3d3);
}

/* ===== Components: Card / Table / Badge ===== */
.card{
  border:0;
  border-radius:1rem;
  box-shadow:0 6px 18px rgba(23, 42, 69, .08);
}
.card-header{
  background:#fff;
  border-bottom:1px solid #eef2f7;
  border-top-left-radius:1rem !important;
  border-top-right-radius:1rem !important;
}

.table thead th{
  position:sticky;
  top:0;
  background:#fff;
  z-index:1;
}

/* KPI 小元件 */
.kpi{ display:flex; align-items:center; gap:1rem; }
.kpi .icon{
  width:44px; height:44px; border-radius:12px;
  background:#f2fbfb; display:grid; place-items:center;
}
.kpi .value{ font-size:1.35rem; font-weight:800; color:#0b2b3f; }
.kpi .label{ color:#5b6b7b; font-size:.9rem; }

/* ===== Guard Overlay ===== */
.guard-overlay{
  position:fixed; inset:0;
  background:rgba(15, 23, 42, .45);
  backdrop-filter:saturate(110%) blur(6px);
  -webkit-backdrop-filter:saturate(110%) blur(6px);
  display:grid; place-items:center;
  z-index:1080; padding:16px;
}
.guard-panel{
  width:100%; max-width:560px;
  background:#ffffff;
  border-radius:16px;
  box-shadow:0 20px 45px rgba(2, 6, 23, 0.18);
  padding:24px;
  border:1px solid rgba(15, 23, 42, 0.06);
  animation:guard-pop 220ms cubic-bezier(.2,.9,.2,1) both;
}
@keyframes guard-pop{
  from{ transform:translateY(6px) scale(.98); opacity:0; }
  to{   transform:translateY(0)  scale(1);   opacity:1; }
}
.guard-head{ display:flex; align-items:center; gap:10px; margin-bottom:10px; }
.guard-icon{
  width:36px; height:36px; display:grid; place-items:center;
  border-radius:10px; background:rgba(99,102,241,.12);
  border:1px solid rgba(79,70,229,.18);
}
.guard-icon i{ font-size:18px; color:#4f46e5; }
.guard-chip{
  display:inline-flex; align-items:center; gap:.4rem;
  padding:6px 12px; border-radius:999px; font-weight:700; font-size:.9rem;
  letter-spacing:.02em; color:#fff;
  background:linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
  box-shadow:0 6px 16px rgba(79,70,229,.28);
  user-select:none;
}
.guard-title{ margin:4px 0 4px; font-size:1.25rem; line-height:1.35; font-weight:800; letter-spacing:.01em; color:#0f172a; }
.guard-desc{ color:#475569; font-size:.975rem; }
.guard-desc .code{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  background:#f1f5f9; border:1px solid #e2e8f0; padding:2px 8px; border-radius:6px; font-size:.88rem;
}
.guard-actions{ display:flex; flex-wrap:wrap; gap:.6rem; margin-top:14px; }
.btn-guard-primary{
  --bs-btn-bg:#4f46e5; --bs-btn-border-color:#4f46e5;
  --bs-btn-hover-bg:#4338ca; --bs-btn-hover-border-color:#4338ca;
  --bs-btn-active-bg:#3730a3; --bs-btn-active-border-color:#3730a3;
  border-radius:10px; padding:.56rem 1rem; font-weight:700; letter-spacing:.01em;
}
.btn-guard-outline{
  border-radius:10px; padding:.56rem 1rem; font-weight:700; letter-spacing:.01em;
}

/* Modal 深色表頭的白色關閉鈕 */
.btn-close.btn-close-white{ filter: invert(1) grayscale(100%) brightness(200%); }

/* 通用小工具 */
.no-underline, .no-underline:visited, .no-underline:hover, .no-underline:active { text-decoration:none; }
